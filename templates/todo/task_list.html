{% extends "base.html" %}

{% block content %}
  <h1>TODO list <a href="{% url 'todo:task-create' %}" style="float: right" class="btn btn-primary">Create</a></h1>
  {% if task_list %}
    <ul class="list-group list-group-flush">
      {% for task in task_list %}
        <li class="list-group-item">
          <div class="task">
            <h2>
              {{ task.content }}
              {% if task.is_done %}
                <span style="color: #006b1b">Done <a href="{% url 'todo:task-change-status' pk=task.id %}"
                                                     style="float: right" class="btn btn-secondary">Undo</a></span>
              {% else %}
                <span style="color: red">Not done <a href="{% url 'todo:task-change-status' pk=task.id %}"
                                                     style="float: right" class="btn btn-success">Complete</a></span>
              {% endif %}

            </h2>
            <p>Created at: {{ task.created_at }}</p>
            <p>
              Tags: {{ task.tags.all|join:", " }}
            </p>
            <a href="{% url 'todo:task-update' pk=task.id %}" class="btn btn-secondary btn-sm">Update</a>
            <a href="{% url 'todo:task-delete' pk=task.id %}" class="btn btn-danger btn-sm">Delete</a>
          </div>
        </li>
      {% endfor %}
    </ul>

  {% else %}
    <h2>There are no tasks</h2>
  {% endif %}

{% endblock %}